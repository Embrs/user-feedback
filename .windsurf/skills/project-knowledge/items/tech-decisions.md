# 技術決策記錄

## 已確定的決策

### 框架選擇
| 決策 | 選擇 | 原因 |
|------|------|------|
| 前端框架 | Nuxt 4 + Vue 3 | SSR 支援、檔案路由、自動引入 |
| UI 框架 | Element Plus | 企業級組件、中文友好 |
| 狀態管理 | Pinia | Vue 3 官方推薦 |
| ORM | Prisma | 類型安全、遷移管理 |
| 資料庫 | PostgreSQL | 可靠、功能完整 |
| 部署平台 | Railway | 簡單、Docker 支援 |

### 架構決策
| 決策 | 選擇 | 原因 |
|------|------|------|
| 錯誤處理 | return 而非 throw | 統一響應格式 |
| 空值處理 | 前端 "" / 資料庫 null | 避免 v-model 問題 |
| 確認框 | UseAsk 封裝 | 統一風格、多語言 |
| 軟刪除 | isDeleted 標記 | 資料可復原 |
| 認證 | JWT + Cookie | 安全、無狀態 |
| Agent 系統 | Agent Skills + OpenSpec | 知識庫自主維護、規格驅動 |

### 規範決策
| 決策 | 選擇 | 原因 |
|------|------|------|
| 模板語言 | Pug | 簡潔、可讀性高 |
| 樣式 | SCSS + scoped | 模組化、避免衝突 |
| API 訊息 | 三語言（zh/en/ja） | 國際化需求 |
| 註解語言 | 繁體中文 | 團隊溝通 |

## 待評估項目

- [ ] 是否引入 E2E 測試（Playwright）
- [ ] 是否引入 Monorepo 架構
- [ ] 是否遷移到 Nuxt 4 正式版

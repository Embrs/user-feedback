# 功能模組清單

> @embrs/user-feedback MCP 反饋收集器功能模組

## 模組分類

### 核心模組

| 模組名稱 | 後端路徑 | 前端資源 | 狀態 |
|----------|----------|----------|------|
| MCP 服務器 | `src/server/mcp-server.ts` | - | ✅ |
| Web 服務器 | `src/server/web-server.ts` | `src/static/` | ✅ |
| CLI 介面 | `src/cli.ts` | - | ✅ |
| 配置管理 | `src/config/index.ts` | - | ✅ |
| 類型定義 | `src/types/index.ts` | - | ✅ |
| 日誌系統 | `src/utils/logger.ts` | - | ✅ |

### 業務模組

| 模組名稱 | 說明 | 狀態 |
|----------|------|------|
| 反饋收集 | 核心 MCP 工具 `collect_feedback` | ✅ |
| Web 介面 | 左右分割反饋收集頁面 | ✅ |
| 圖片處理 | 支援拖放、預覽、上傳 | ✅ |
| 即時通訊 | Socket.IO 實時數據傳輸 | ✅ |
| 罐頭語回覆 | 預設快速回覆選項 | ✅ |
| 深色主題 | 與 IDE 環境一致的 UI | ✅ |

## 模組關係圖

```
┌──────────────┐     ┌──────────────┐
│   CLI 介面   │ → │  MCP 服務器  │
└──────────────┘     └──────────────┘
                           ↓
                  ┌──────────────┐
                  │  Web 服務器  │
                  └──────────────┘
                           ↓
┌──────────────┐ ← ┌──────────────┐
│   圖片處理   │   │   Web 介面   │
└──────────────┘   └──────────────┘
        ↑                   ↑
        └───────────┬───────┘
                    ↓
            ┌──────────────┐
            │   即時通訊   │
            └──────────────┘
```

## 技術特點

### MCP 整合
- **工具註冊**：`collect_feedback` 工具提供反饋收集
- **動態檢測**：支援服務器順序變動（mcp0_ 到 mcp9_）
- **標準協議**：符合 Model Context Protocol 規範

### Web 技術棧
- **Express.js**：RESTful API 服務器
- **Socket.IO**：WebSocket 即時通訊
- **JIMP**：圖片處理與壓縮
- **靜態資源**：純 HTML/CSS/JavaScript 前端

### 用戶體驗
- **響應式設計**：支援各種螢幕尺寸
- **拖放上傳**：全螢幕拖放區域
- **實時預覽**：圖片上傳即時預覽
- **深色主題**：符合開發者習慣

## 如何更新

新增功能模組時，請更新此文件：

1. 添加模組到對應表格
2. 更新模組關係圖（如有依賴）
3. 記錄到 `references/maintenance-log.md`
